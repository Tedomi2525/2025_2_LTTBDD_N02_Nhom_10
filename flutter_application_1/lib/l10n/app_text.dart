import 'package:flutter/material.dart';

class AppText {
  static const supportedLocales = <Locale>[
    Locale('vi'),
    Locale('en'),
  ];

  static final Map<String, Map<String, String>> _values = {
    'vi': {
      'app_title': 'Hệ thống Thi Trắc Nghiệm',
      'invalid_role': 'Lỗi: Vai trò {role} không hợp lệ',
      'language': 'Ngôn ngữ',
      'vietnamese': 'Tiếng Việt',
      'english': 'English',
      'logout': 'Đăng xuất',
      'logout_confirm': 'Bạn có chắc chắn muốn đăng xuất?',
      'cancel': 'Hủy',
      'close': 'Đóng',
      'system_subtitle': 'Hệ thống Thi Trắc Nghiệm',
      'group_info': 'Thông tin nhóm',
      'login_to_continue': 'Đăng nhập để tiếp tục',
      'username': 'Tên đăng nhập',
      'password': 'Mật khẩu',
      'login': 'Đăng nhập',
      'demo_accounts': 'Tài khoản demo:',
      'teacher': 'Giảng viên',
      'student': 'Sinh viên',
      'admin': 'Quan tri vien',
      'wrong_credentials': 'Tên đăng nhập hoặc mật khẩu không đúng',
      'error_happened': 'Đã có lỗi xảy ra: {error}',
      'team_members': 'Thành viên thực hiện dự án',
      'manage_accounts': 'Quản lý Tài khoản',
      'manage_classes': 'Quản lý Lớp học',
      'question_bank': 'Ngân hàng Câu hỏi',
      'manage_exams': 'Quản lý Đề thi',
      'statistics_report': 'Thống kê & Báo cáo',
      'exam_list': 'Danh sách Bài thi',
      'exam_history': 'Lịch sử Bài thi',
      'enter_exam_password': 'Nhập mật khẩu',
      'exam_password': 'Mật khẩu đề thi',
      'enter_exam': 'Vào thi',
      'wrong_exam_password': 'Mật khẩu không đúng!',
      'available_exams_for_you': 'Các bài thi hiện có sẵn cho bạn',
      'no_exams_now': 'Hiện tại không có bài thi nào',
      'minutes': '{value} phút',
      'questions_count': '{value} câu hỏi',
      'has_password': 'Có mật khẩu',
      'open_time': 'Mở: {value}',
      'close_time': 'Đóng: {value}',
      'score': 'Điểm: {value}/10',
      'submitted_at': 'Nộp lúc: {value}',
      'not_available': 'Chưa đến giờ hoặc đã hết hạn',
      'completed': 'Đã hoàn thành',
      'start_exam': 'Bắt đầu làm bài',
      'review_completed_exams': 'Xem lại các bài thi đã hoàn thành',
      'no_completed_exams': 'Bạn chưa hoàn thành bài thi nào',
      'view_detail': 'Xem chi tiết',
      'teacher_disallow_answers': 'Giảng viên không cho phép xem đáp án cho bài thi này.',
      'unknown': 'Không rõ',
      'score_label': 'Điểm số:',
      'exam_detail': 'Chi tiết bài làm',
      'exam_label': 'Đề thi:',
      'submit_time': 'Thời gian nộp:',
      'question_n': 'Câu {index}',
      'correct': 'Đúng',
      'wrong': 'Sai',
      'submit_confirm': 'Xác nhận nộp bài',
      'answered_count': 'Bạn đã trả lời {answered}/{total} câu hỏi.',
      'remaining_questions': 'Còn {value} câu chưa trả lời!',
      'confirm_submit': 'Bạn có chắc chắn muốn nộp bài?',
      'continue_work': 'Tiếp tục làm',
      'submit_exam': 'Nộp bài',
      'answered_status': '{answered}/{total} câu đã trả lời',
      'time_warning': 'Chú ý: Còn ít hơn 5 phút! Hãy kiểm tra lại bài làm của bạn.',
      'question_nav': 'Điều hướng câu hỏi',
      'add_account': 'Thêm tài khoản',
      'add_account_new': 'Thêm tài khoản mới',
      'edit_account': 'Sửa tài khoản',
      'full_name': 'Họ tên',
      'role': 'Vai trò',
      'password_optional_unchanged': 'Mật khẩu (để trống nếu không đổi)',
      'update': 'Cập nhật',
      'add_new': 'Thêm mới',
      'confirm': 'Xác nhận',
      'delete_account_confirm': 'Bạn có chắc chắn muốn xóa tài khoản này?',
      'delete': 'Xóa',
      'search': 'Tìm kiếm...',
      'action': 'Thao tác',
      'create_new_class': 'Tạo lớp học mới',
      'create_and_manage_classes': 'ạo và quản lý các lớp học phần',
      'edit_class_name': 'Sửa tên lớp học',
      'create_class': 'Tạo lớp',
      'class_name': 'Tên lớp học',
      'class_name_hint': 'Ví dụ: Lập trình Web - K22',
      'delete_class_confirm': 'Bạn có chắc chắn muốn xóa lớp học này?',
      'no_classes_yet': 'Chưa có lớp học nào. Nhấn "Tạo lớp học mới" để bắt đầu.',
      'students_count': '{value} sinh viên',
      'manage_students_short': 'QL Sinh viên',
      'manage_students_title': 'Quản lý sinh viên - {name}',
      'add_students_to_class': 'Thêm sinh viên vào lớp:',
      'all_students_added': 'Đã thêm tất cả sinh viên',
      'add': 'Thêm',
      'student_list_in_class': 'Danh sách sinh viên trong lớp ({value}):',
      'no_students': 'Chưa có sinh viên nào',
      'remove_from_class': 'Xóa khỏi lớp',
      'your_question_bank': 'Quản lý các câu hỏi trắc nghiệm của bạn',
      'add_question': 'Thêm câu hỏi',
      'add_new_question': 'Thêm câu hỏi mới',
      'edit_question': 'Sửa câu hỏi',
      'question_content': 'Nội dung câu hỏi',
      'image_url_optional': 'URL hình ảnh (tùy chọn)',
      'answer_options': 'Các phương án trả lời:',
      'option_n': 'Phương án {label}',
      'mark_correct_hint': '* Chọn radio button để đánh dấu đáp án đúng',
      'total_questions': 'Tổng số câu hỏi: {value}',
      'image_error': 'Lỗi ảnh',
      'correct_answer': 'Đáp án đúng',
      'search_questions': 'Tìm kiếm câu hỏi...',
      'delete_question_confirm': 'Bạn có chắc chắn muốn xóa câu hỏi này?',
      'create_new_exam': 'Tạo đề thi mới',
      'edit_exam': 'Sửa đề thi',
      'exam_name': 'Tên đề thi',
      'enter_exam_name': 'Nhập tên đề thi',
      'class_label': 'Lớp học',
      'duration_minutes': 'Thời gian (phút)',
      'start_time': 'Thời gian mở',
      'end_time': 'Thời gian đóng',
      'choose_datetime': 'Chọn ngày giờ',
      'password_optional': 'Mật khẩu (tùy chọn)',
      'allow_view_answers': 'Cho phép xem đáp án',
      'selected_questions': 'Chọn câu hỏi ({value} đã chọn):',
      'random_select': 'Chọn ngẫu nhiên',
      'quantity': 'Số lượng',
      'choose': 'Chọn',
      'status_active': 'Đang diễn ra',
      'status_closed': 'Đã kết thúc',
      'status_draft': 'Nháp',
      'class_with_name': 'Lớp: {value}',
      'questions_duration': 'Câu hỏi: {questions} | Thời gian: {duration} phút',
      'end': 'Kết thúc',
      'activate': 'Kích hoạt',
      'no_exam_for_statistics': 'Chưa có đề thi nào để thống kê',
      'submission_count': 'Số bài nộp',
      'average_score': 'Điểm trung bình',
      'pass_rate': 'Tỷ lệ đạt (>=5đ)',
      'score_distribution': 'Phân bố điểm',
      'score_list': 'Danh sách điểm',
      'export_excel': 'Xuất Excel',
      'excel_not_supported': 'ính năng xuất Excel chưa được hỗ trợ',
      'detail': 'Chi tiết',
      'question_deleted': 'Câu hỏi đã bị xóa',
      'you_chose': '(Bạn chọn)',
      'manage_accounts_desc': 'Thêm, sửa, xóa tài khoản người dùng trong hệ thống',
      'edit': 'Sửa',
    },
    'en': {
      'app_title': 'Exam System',
      'invalid_role': 'Error: Role {role} is invalid',
      'language': 'Language',
      'vietnamese': 'Vietnamese',
      'english': 'English',
      'logout': 'Logout',
      'logout_confirm': 'Are you sure you want to logout?',
      'cancel': 'Cancel',
      'close': 'Close',
      'system_subtitle': 'Online Exam System',
      'group_info': 'Team Info',
      'login_to_continue': 'Sign in to continue',
      'username': 'Username',
      'password': 'Password',
      'login': 'Login',
      'demo_accounts': 'Demo accounts:',
      'teacher': 'Teacher',
      'student': 'Student',
      'admin': 'Administrator',
      'wrong_credentials': 'Incorrect username or password',
      'error_happened': 'An error occurred: {error}',
      'team_members': 'Project team members',
      'manage_accounts': 'Account Management',
      'manage_classes': 'Class Management',
      'question_bank': 'Question Bank',
      'manage_exams': 'Exam Management',
      'statistics_report': 'Statistics & Reports',
      'exam_list': 'Exam List',
      'exam_history': 'Exam History',
      'enter_exam_password': 'Enter Password',
      'exam_password': 'Exam password',
      'enter_exam': 'Enter Exam',
      'wrong_exam_password': 'Wrong password!',
      'available_exams_for_you': 'Available exams for you',
      'no_exams_now': 'No exams available right now',
      'minutes': '{value} minutes',
      'questions_count': '{value} questions',
      'has_password': 'Has password',
      'open_time': 'Open: {value}',
      'close_time': 'Close: {value}',
      'score': 'Score: {value}/10',
      'submitted_at': 'Submitted: {value}',
      'not_available': 'Not open yet or already closed',
      'completed': 'Completed',
      'start_exam': 'Start Exam',
      'review_completed_exams': 'Review completed exams',
      'no_completed_exams': 'You have not completed any exam yet',
      'view_detail': 'View details',
      'teacher_disallow_answers': 'Teacher does not allow answer review for this exam.',
      'unknown': 'Unknown',
      'score_label': 'Score:',
      'exam_detail': 'Submission Details',
      'exam_label': 'Exam:',
      'submit_time': 'Submitted at:',
      'question_n': 'Question {index}',
      'correct': 'Correct',
      'wrong': 'Wrong',
      'submit_confirm': 'Confirm Submission',
      'answered_count': 'You answered {answered}/{total} questions.',
      'remaining_questions': '{value} questions are unanswered!',
      'confirm_submit': 'Are you sure you want to submit?',
      'continue_work': 'Continue',
      'submit_exam': 'Submit',
      'answered_status': '{answered}/{total} answered',
      'time_warning': 'Warning: Less than 5 minutes left. Please review your answers.',
      'question_nav': 'Question Navigator',
      'add_account': 'Add account',
      'add_account_new': 'Add new account',
      'edit_account': 'Edit account',
      'full_name': 'Full name',
      'role': 'Role',
      'password_optional_unchanged': 'Password (leave blank to keep current)',
      'update': 'Update',
      'add_new': 'Add',
      'confirm': 'Confirm',
      'delete_account_confirm': 'Are you sure you want to delete this account?',
      'delete': 'Delete',
      'search': 'Search...',
      'action': 'Action',
      'create_new_class': 'Create new class',
      'create_and_manage_classes': 'Create and manage course classes',
      'edit_class_name': 'Edit class name',
      'create_class': 'Create class',
      'class_name': 'Class name',
      'class_name_hint': 'Example: Web Programming - K22',
      'delete_class_confirm': 'Are you sure you want to delete this class?',
      'no_classes_yet': 'No classes yet. Click "Create new class" to start.',
      'students_count': '{value} students',
      'manage_students_short': 'Manage Students',
      'manage_students_title': 'Manage Students - {name}',
      'add_students_to_class': 'Add students to class:',
      'all_students_added': 'All students are already added',
      'add': 'Add',
      'student_list_in_class': 'Students in class ({value}):',
      'no_students': 'No students yet',
      'remove_from_class': 'Remove from class',
      'your_question_bank': 'Manage your multiple-choice questions',
      'add_question': 'Add question',
      'add_new_question': 'Add new question',
      'edit_question': 'Edit question',
      'question_content': 'Question content',
      'image_url_optional': 'Image URL (optional)',
      'answer_options': 'Answer options:',
      'option_n': 'Option {label}',
      'mark_correct_hint': '* Select the radio button to mark correct answer',
      'total_questions': 'Total questions: {value}',
      'image_error': 'Image error',
      'correct_answer': 'Correct answer',
      'search_questions': 'Search questions...',
      'delete_question_confirm': 'Are you sure you want to delete this question?',
      'create_new_exam': 'Create new exam',
      'edit_exam': 'Edit exam',
      'exam_name': 'Exam name',
      'enter_exam_name': 'Enter exam name',
      'class_label': 'Class',
      'duration_minutes': 'Duration (minutes)',
      'start_time': 'Start time',
      'end_time': 'End time',
      'choose_datetime': 'Choose date & time',
      'password_optional': 'Password (optional)',
      'allow_view_answers': 'Allow answer review',
      'selected_questions': 'Select questions ({value} selected):',
      'random_select': 'Random select',
      'quantity': 'Quantity',
      'choose': 'Choose',
      'status_active': 'Active',
      'status_closed': 'Closed',
      'status_draft': 'Draft',
      'class_with_name': 'Class: {value}',
      'questions_duration': 'Questions: {questions} | Duration: {duration} min',
      'end': 'End',
      'activate': 'Activate',
      'no_exam_for_statistics': 'No exams available for statistics',
      'submission_count': 'Submissions',
      'average_score': 'Average score',
      'pass_rate': 'Pass rate (>=5)',
      'score_distribution': 'Score distribution',
      'score_list': 'Score list',
      'export_excel': 'Export Excel',
      'excel_not_supported': 'Excel export is not supported yet',
      'detail': 'Detail',
      'question_deleted': 'Question was deleted',
      'you_chose': '(Your choice)',
      'manage_accounts_desc': 'Add, edit, delete user accounts in the system',
      'edit': 'Edit',
    },
  };

  static String tr(
    BuildContext context,
    String key, {
    Map<String, String> args = const {},
  }) {
    final code = Localizations.localeOf(context).languageCode;
    var value = _values[code]?[key] ?? _values['vi']?[key] ?? key;

    for (final entry in args.entries) {
      value = value.replaceAll('{${entry.key}}', entry.value);
    }
    return value;
  }
}

extension AppTextX on BuildContext {
  String t(String key, {Map<String, String> args = const {}}) {
    return AppText.tr(this, key, args: args);
  }
}
